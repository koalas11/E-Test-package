# E-Test-package

This replication package can be used to fully replicate the results of our `E-TEST` paper.

## Repository Structure
- **AutonomicTester:** A Python application designed to implement advanced techniques for E-TEST.
- **DataAnalysis:** A set of Jupyter notebooks to analyze results and compute evaluation metrics.
- **Archives:** A set of tar archives of datasets of prompts and responses from LLMs.

## Environment Setup
### Prerequisites
- Linux or macOS with at least 8 GB of RAM
- [Python 3.10+](https://www.python.org/downloads/)
- [Ollama](https://ollama.com/)

Run following commands from project root directory:

### Install Python Dependencies
```sh
python3 -m venv .venv
source .venv/bin/activate
pip3 install -r ./requirements.txt
```

### Extract Archives
```sh
bash extract_archives.sh
```

## Getting Started

### Data Analysis
To reproduce evaluation results shown in the paper, please run notebooks in `DataAnalysis` folder directly with the created `.venv` as the kernel.
- `Dataset Stats.ipynb` computes statistics about the dataset of prompts, which corresponds to **Section 3.2.1 Dataset** in the paper.
- `RQ1 Impact of LLMs.ipynb` computes evaluation metrics (precision, recall, and F1-score) for each scenario and the average F1-score, which corresponds to **Section 4.1 RQ1: Impact of LLMs**, **Table 2** and **Figure 2** in the paper.
- `RQ2 Comparative Evaluation.ipynb` computes evaluation metrics of two state-of-the-art approaches (i.e., *FAST++* and *Field-ready testing*), which corresponds to **Section 4.2 RQ2: Comparative Evaluation** and **Table 2** in the paper.
- `RQ3 Impact of Queries.ipynb` computes evaluation metrics for different combinations of queries, which corresponds to **Section 4.3 RQ3: Impact of Queries** and **Figure 3** in the paper.
- `RQ4 Efficiency.ipynb` measures efficiency of E-Test in terms of response time and token consumption, which corresponds to **Section 4.4 RQ4: Efficiency** and **Figure 4** in the paper.
- `RQ5 Test Case Generation.ipynb` analyzes JUnit test cases generated by E-Test, which corresponds to **Section 4.5 RQ5: Test Case Generation** and **Figure 5** in the paper.

### Autonomic Tester
To start an experiment from scratch, please run *AutonomicTester* with appropriate arguments.
We explain how to reproduce results of Llama3 8B in AutonomicTester's [README](AutonomicTester/README.md), which is feasible to run on a local machine with at least 8 GB of RAM. For other LLMs mentioned in the paper, please check the help message via `python AutonomicTester/main.py -h`.
